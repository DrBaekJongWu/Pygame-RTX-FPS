window.addEventListener("load",w);function w(){let r=acquireVsCodeApi(),P={pageId:1,index:-1,language:"",language_index:-1,platform:"",platform_index:-1,project_index:-1,osType:""},v=r.getState(),d=$("#createBtn"),M=$("#cancelBtn"),f=$(".row"),u=$("#browseToolchainPathBtn"),h=$("#browseProjectPathBtn"),y=$("#browseSDKPathBtn"),I=$("#browseOutputBinPathBtn"),b=$("#projectNameInput"),E=$("#projectDescriptionInput"),C=$("#outputBinInput"),S=$("#sdkInput"),J=$("#toolchainInput"),Q=$("#projectInput"),A=$("#runAfterDownloadCB"),s=[];u=$("#browseToolchainPathBtn"),h=$("#browseProjectPathBtn"),$("#contentWindow").css("overflow-y","auto"),console.log("SDK",y),console.log("Toolchain",u),console.log("project",h);let i=(t,e)=>{console.log("browsebtn clicked"),r.postMessage({type:"browseBtn",browseType:e})};u.on("click",t=>{console.log("Browse Button Clicked"),i(t,"toolchain")}),h.on("click",t=>{i(t,"project")}),y.on("click",t=>{i(t,"sdk")}),I.on("click",t=>{i(t,"bin")}),$("#projectHomePathInput").on("focusout",t=>{let e=$("#projectHomePathInput").val().toString();r.postMessage({type:"updateAndCheckFolderListAtPath",path:e})}),b.on("input",t=>g(t));let g=t=>{let e=$("#projectNameInput"),o=$("#projectName-infoText"),l=e.val().toString(),p="";console.log(s),L(l)?(p=" Error: Invalid project name. No special characters allowed.",n=!1):l===""?(p=" Error: Invalid project name. Enter project name.",n=!1):s.includes(l)?(p=" Error: Invalid project name. Project already exist.",n=!1):(n=!0,e.removeClass("errorBorder"),j(o),a(!0)),n?(n=!0,e.removeClass("errorBorder"),j(o),a(!0)):(e.addClass("errorBorder"),m(o,p),a(!1))},k=t=>{console.log("projectList CLicked");let e=f.index(t.currentTarget)};console.log("Initial state",v),f.on("click",k),d.on("click",t=>{T()}),M.on("click",t=>{console.log("Cancel btn clicked"),r.postMessage({type:"cancelBtn"})}),window.addEventListener("message",t=>{let e=t.data;switch(e.type){case"browseBtn":case"folderPath":console.log("folder Path Recieved",e.path),$("#projectHomePathInput").val(e.path),r.postMessage({type:"updateAndCheckFolderListAtPath",path:e.path});break;case"updateFolderListAtPath":console.log(e.paths),s=e.paths;break;case"updateAndCheckFolderListAtPath":s=e.paths,g();break;case"updateAndCheckFolderListAtPathFinal":s=e.paths,T();break;case"sdkOptions":console.log(e.sdkOptions),$("#sdkDD").html(e.sdkOptions.toString());break;case"toolchain":console.log("Toolchain Path Recieved"),console.log(e.path),$("#toolchainInput").val(e.path);break;case"sdk":console.log("SDK Path Recieved"),console.log(e.path),$("#sdkInput").val(e.path);break;case"project":console.log("Project Path Recieved"),console.log(e.path),$("#projectInput").val(e.path);break;case"bin":console.log("Project Path Recieved"),console.log(e.path),$("#outputBinInput").val(e.path);break;case"getOSType":console.log("OS",e.osType),P.osType=e.osType;break}});let a=t=>t&&n&&c?(d.removeAttr("disabled"),!0):(d.attr("disabled","true"),!1),n=!0,c=!0,B=t=>{let e=$("#projectHomePathInput").val().toString(),o=e.length?e[e.length-1]:"";console.log("project Path",e),H(e,P)?($("#projectHomePathInput").addClass("errorBorder"),m($("#infoText-projecHomePath")," Error: Invalid project path."),c=!1,a(!1)):(o==="\\"||o==="/")&&!t?(c=!1,$("#projectHomePathInput").addClass("errorBorder"),m($("#infoText-projecHomePath")," Error: Invalid project path. Path can not end with / or \\ ."),a(!1)):($("#projectHomePathInput").removeClass("errorBorder"),j($("#infoText-projecHomePath")),c=!0,a(!0))},T=()=>{let t=$("#projectNameInput"),e=$("#projectDescriptionInput"),o=$("#projectHomePathInput");g();let l=n&&c;console.log(l),l&&r.postMessage({type:"createProject",simple_project_settings:{name:t.val(),description:e.val(),projectPath:o.val()?o.val().toString():"",sdkVersion:""}})};function m(t,e){t.val().toString()!==e&&(t.html(e),t.addClass(["errorMsg","codicon","codicon-error"]))}function j(t){t.removeClass(["errorMsg","codicon","codicon-error"]),t.html("")}function D(t,e){t.addClass(["warningMsg","codicon","codicon-warning"]),t.html(e)}function N(t){t.removeClass(["warning","codicon","codicon-warning"]),t.html("")}function L(t){return/[ `!@#$%^&*()+\=\[\]{};':"\\|,.<>\/?~]/.test(t)}function H(t,e){return console.log("PageInfo",e),e.osType==="Windows_NT"?t.includes("\\\\")||t.includes("//"):e.osType==="Darwin"||e.osType==="Linux"?t.includes("\\"):!1}r.postMessage({type:"getOSType"}),r.postMessage({type:"folderPath"}),$("#projectHomePathInput").on("input",B)}
//# sourceMappingURL=importProject.js.map
