window.addEventListener("load",I);function I(){let l=acquireVsCodeApi(),m={pageId:1,index:-1,language:"",language_index:-1,platform:"",platform_index:-1,project_index:-1,osType:""},f=l.getState(),p=$("#createBtn"),v=$("#cancelBtn"),j=$(".row"),u=$("#browseToolchainPathBtn"),d=$("#browseProjectPathBtn"),P=$("#browseSDKPathBtn"),M=$("#browseOutputBinPathBtn"),B=$("#projectNameInput"),k=$("#projectDescriptionInput"),L=$("#outputBinInput"),C=$("#sdkInput"),J=$("#sdkDD"),Q=$("#toolchainInput"),S=$("#projectInput"),D=$("#runAfterDownloadCB"),T=[];u=$("#browseToolchainPathBtn"),d=$("#browseProjectPathBtn"),$("#contentWindow").css("overflow-y","auto"),console.log("SDK",P),console.log("Toolchain",u),console.log("project",d);let i=(e,t)=>{console.log("browsebtn clicked"),l.postMessage({type:"browseBtn",browseType:t})};u.on("click",e=>{console.log("Browse Button Clicked"),i(e,"toolchain")}),d.on("click",e=>{i(e,"project")}),P.on("click",e=>{i(e,"sdk")}),M.on("click",e=>{i(e,"bin")}),B.on("input",e=>y(e));let y=e=>{let t=$("#projectNameInput"),o=$("#projectName-infoText"),c=t.val().toString(),n="";console.log(T),E(c)?(n=" Error: Invalid project name. No special characters allowed.",r=!1):c===""?(n=" Error: Invalid project name. Enter project name.",r=!1):T.includes(c)?(n=" Error: Invalid project name. Project already exist.",r=!1):(r=!0,t.removeClass("errorBorder"),g(o),a(!0)),r?(r=!0,t.removeClass("errorBorder"),g(o),a(!0)):(t.addClass("errorBorder"),h(o,n),a(!1))},b=e=>{console.log("projectList CLicked");let t=j.index(e.currentTarget)};console.log("Initial state",f),j.on("click",b),p.on("click",e=>{w()}),v.on("click",e=>{console.log("Cancel btn clicked"),l.postMessage({type:"cancelBtn"})}),window.addEventListener("message",e=>{let t=e.data;switch(t.type){case"browseBtn":case"folderPath":console.log("folder Path Recieved",t.path),$("#projectHomePathInput").val(t.path);break;case"sdkOptions":console.log(t.sdkOptions),$("#sdkDD").html(t.sdkOptions.toString());break;case"toolchain":console.log("Toolchain Path Recieved"),console.log(t.path),$("#toolchainInput").val(t.path);break;case"sdk":console.log("SDK Path Recieved"),console.log(t.path),$("#sdkInput").val(t.path);break;case"project":console.log("Project Path Recieved"),console.log(t.path),$("#projectInput").val(t.path);break;case"bin":console.log("Project Path Recieved"),console.log(t.path),$("#outputBinInput").val(t.path);break;case"getOSType":console.log("OS",t.osType),m.osType=t.osType;break}});let a=e=>e&&r&&s?(p.removeAttr("disabled"),!0):(p.attr("disabled","true"),!1),r=!0,s=!0,N=e=>{let t=$("#projectHomePathInput").val().toString(),o=t.length?t[t.length-1]:"";console.log("project Path",t),H(t,m)?($("#projectHomePathInput").addClass("errorBorder"),h($("#infoText-projecHomePath")," Error: Invalid project path."),s=!1,a(!1)):(o==="\\"||o==="/")&&!e?(s=!1,$("#projectHomePathInput").addClass("errorBorder"),h($("#infoText-projecHomePath")," Error: Invalid project path. Path can not end with / or \\ ."),a(!1)):($("#projectHomePathInput").removeClass("errorBorder"),g($("#infoText-projecHomePath")),s=!0,a(!0))},w=()=>{let e=$("#projectNameInput"),t=$("#projectDescriptionInput"),o=$("#projectHomePathInput"),c=$("#sdkDD");y();let n=r&&s;console.log(n),n&&l.postMessage({type:"createProject",simple_project_settings:{name:e.val(),description:t.val(),projectPath:o.val()?o.val().toString():"",sdkVersion:c.val()}})};function h(e,t){e.val().toString()!==t&&(e.html(t),e.addClass(["errorMsg","codicon","codicon-error"]))}function g(e){e.removeClass(["errorMsg","codicon","codicon-error"]),e.html("")}function O(e,t){e.addClass(["warningMsg","codicon","codicon-warning"]),e.html(t)}function _(e){e.removeClass(["warning","codicon","codicon-warning"]),e.html("")}function E(e){return/[ `!@#$%^&*()+\=\[\]{};':"\\|,.<>\/?~]/.test(e)}function H(e,t){return console.log("PageInfo",t),t.osType==="Windows_NT"?e.includes("\\\\")||e.includes("//"):t.osType==="Darwin"||t.osType==="Linux"?e.includes("\\"):!1}l.postMessage({type:"getOSType"}),l.postMessage({type:"folderPath"})}
//# sourceMappingURL=projectSettings.js.map
